;; test module
(
 'OK ' :ok
 ("  " print!) :padding

 ;; describe
 (
   :name
   "Testing: [" print! name print! "]" put! 
   padding
   () 
 ) :describe

 ;; assert
 (
  ' :check      ; save the check quotation to validate
  ' :results    ; save the result symbol to update
  (check -> true ==)
  ( 
    ok results append quote .results 
    "." print!
  )
  (
    check results append quote .results 
    "x" print!
  )
  ifte
  results
 ) :assert

 ;; report
 (
  newline
  ' :results ; save the results collected so far
  0 :total
  0 :failed
  results (
    total succ .total
    (ok !=) (failed succ .failed) () ifte
  ) map
  padding total print! " tests executed - " print! failed print! " failed." put!
  (
    ' :result
    result
    (ok !=)
    (padding "FAILED: " print! result put!)
    ()
    ifte
  )
  map
 ) :report

) => :test
